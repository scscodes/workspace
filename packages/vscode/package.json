{
  "name": "aidev-vscode",
  "displayName": "AIDev",
  "description": "AI-powered developer toolkit — dead code, linting, commits, and more",
  "version": "0.0.1",
  "publisher": "aidev",
  "engines": {
    "vscode": "^1.95.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "scripts": {
    "build": "node esbuild.config.mjs",
    "watch": "node esbuild.config.mjs --watch",
    "clean": "rm -rf dist",
    "package": "vsce package",
    "test": "vitest run --passWithNoTests",
    "test:watch": "vitest"
  },
  "contributes": {
    "configuration": {
      "title": "AIDev",
      "properties": {
        "aidev.mode": {
          "type": "string",
          "enum": [
            "performance",
            "balanced",
            "economy"
          ],
          "default": "balanced",
          "description": "Operating mode — controls which model tier is used for chat vs tool tasks.",
          "enumDescriptions": [
            "Use highest-tier model for everything (chat + tool calls).",
            "Highest tier for chat/reasoning, mid tier for tool calls.",
            "Mid tier for chat/reasoning, low tier for tool calls."
          ]
        },
        "aidev.modelTiers.high": {
          "type": "string",
          "default": "",
          "description": "Model identifier for the high tier. Matched against available models from your provider."
        },
        "aidev.modelTiers.mid": {
          "type": "string",
          "default": "",
          "description": "Model identifier for the mid tier."
        },
        "aidev.modelTiers.low": {
          "type": "string",
          "default": "",
          "description": "Model identifier for the low tier."
        },
        "aidev.providerSource": {
          "type": "string",
          "enum": [
            "ide",
            "direct"
          ],
          "default": "ide",
          "description": "Model provider source. 'ide' uses GitHub Copilot in VSCode (vscode.lm API). 'direct' uses your own API keys (Anthropic, OpenAI).",
          "enumDescriptions": [
            "Use GitHub Copilot models via vscode.lm API.",
            "Use direct API keys (Anthropic, OpenAI)."
          ]
        },
        "aidev.directApi.provider": {
          "type": "string",
          "enum": [
            "anthropic",
            "openai"
          ],
          "default": "anthropic",
          "description": "API provider when using direct keys."
        },
        "aidev.directApi.apiKey": {
          "type": "string",
          "default": "",
          "description": "API key for direct model access. Consider using environment variables for security."
        },
        "aidev.directApi.baseUrl": {
          "type": "string",
          "default": "",
          "description": "Custom base URL for the API provider (optional — for proxies or self-hosted endpoints)."
        },
        "aidev.enabledLanguages": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "typescript",
            "javascript",
            "python"
          ],
          "description": "Languages included in analysis scans."
        },
        "aidev.commitConstraints.minLength": {
          "type": "number",
          "default": 10,
          "minimum": 0,
          "description": "Minimum commit message length (characters)."
        },
        "aidev.commitConstraints.maxLength": {
          "type": "number",
          "default": 72,
          "minimum": 1,
          "description": "Maximum first-line length (characters). Convention is 72."
        },
        "aidev.commitConstraints.prefix": {
          "type": "string",
          "default": "",
          "description": "Required prefix for commit messages (e.g. 'TEAM-123: ')."
        },
        "aidev.commitConstraints.suffix": {
          "type": "string",
          "default": "",
          "description": "Required suffix for commit messages."
        },
        "aidev.commitConstraints.enforcement": {
          "type": "string",
          "enum": [
            "warn",
            "deny"
          ],
          "default": "warn",
          "description": "How to handle constraint violations: 'warn' allows commit with a warning, 'deny' blocks it.",
          "enumDescriptions": [
            "Show a warning but allow the commit to proceed.",
            "Block the commit until constraints are satisfied."
          ]
        },
        "aidev.preCommitDryRun": {
          "type": "boolean",
          "default": true,
          "description": "Run pre-commit hooks in dry-run mode before committing to catch failures early."
        },
        "aidev.agent.maxTurns": {
          "type": "number",
          "default": 10,
          "minimum": 1,
          "description": "Maximum tool-call round-trips per conversation turn in the agentic chat loop."
        },
        "aidev.agent.maxTokenBudget": {
          "type": "number",
          "default": 32000,
          "minimum": 1000,
          "description": "Maximum total tokens (input + output) allowed per agent run."
        },
        "aidev.agent.systemPrompt": {
          "type": "string",
          "default": "",
          "description": "Custom system prompt for the agentic chat loop. Leave empty to use the built-in default."
        }
      }
    },
    "commands": [
      {
        "command": "aidev.scanDeadCode",
        "title": "AIDev: Scan Dead Code",
        "icon": "$(search)"
      },
      {
        "command": "aidev.scanLint",
        "title": "AIDev: Lint & Best Practice Analysis",
        "icon": "$(checklist)"
      },
      {
        "command": "aidev.pruneComments",
        "title": "AIDev: Prune Comments",
        "icon": "$(comment)"
      },
      {
        "command": "aidev.autoCommit",
        "title": "AIDev: Auto-Commit",
        "icon": "$(git-commit)"
      },
      {
        "command": "aidev.tldr",
        "title": "AIDev: TLDR — Summarize Changes",
        "icon": "$(book)"
      },
      {
        "command": "aidev.branchDiff",
        "title": "AIDev: Branch Diff — Compare Local vs Remote",
        "icon": "$(git-compare)"
      },
      {
        "command": "aidev.diffResolve",
        "title": "AIDev: Diff Resolver — Resolve Merge Conflicts",
        "icon": "$(git-merge)"
      },
      {
        "command": "aidev.prReview",
        "title": "AIDev: PR Review — Pull and Review Pull Requests",
        "icon": "$(git-pull-request)"
      },
      {
        "command": "aidev.exportResults",
        "title": "AIDev: Export Results",
        "icon": "$(export)"
      },
      {
        "command": "aidev.setMode",
        "title": "AIDev: Set Operating Mode",
        "icon": "$(settings-gear)"
      },
      {
        "command": "aidev.tool.run",
        "title": "Run",
        "icon": "$(play)"
      },
      {
        "command": "aidev.tool.clear",
        "title": "Clear Results",
        "icon": "$(clear-all)"
      },
      {
        "command": "aidev.tool.export",
        "title": "Export Results",
        "icon": "$(export)"
      },
      {
        "command": "aidev.tool.configure",
        "title": "Configure",
        "icon": "$(settings-gear)"
      }
    ],
    "viewsContainers": {
      "activitybar": [
        {
          "id": "aidev-sidebar",
          "title": "AIDev",
          "icon": "$(beaker)"
        }
      ]
    },
    "views": {
      "aidev-sidebar": [
        {
          "id": "aidev.toolsView",
          "name": "AIDev"
        }
      ]
    },
    "menus": {
      "view/item/context": [
        {
          "when": "view == aidev.toolsView && viewItem =~ /^aidev\\.tool\\..+/",
          "command": "aidev.tool.run",
          "group": "1_actions"
        },
        {
          "when": "view == aidev.toolsView && viewItem =~ /^aidev\\.tool\\..+/",
          "command": "aidev.tool.clear",
          "group": "1_actions"
        },
        {
          "when": "view == aidev.toolsView && viewItem =~ /^aidev\\.tool\\..+/",
          "command": "aidev.tool.export",
          "group": "1_actions"
        },
        {
          "when": "view == aidev.toolsView && viewItem =~ /^aidev\\.tool\\..+/",
          "command": "aidev.tool.configure",
          "group": "2_configuration"
        }
      ]
    },
    "chatParticipants": [
      {
        "id": "aidev.chat",
        "fullName": "AIDev",
        "name": "aidev",
        "description": "AI developer toolkit — dead code, linting, commits, change summaries",
        "isSticky": false,
        "commands": [
          {
            "name": "deadcode",
            "description": "Scan for dead/unused code"
          },
          {
            "name": "lint",
            "description": "Lint and best practice analysis"
          },
          {
            "name": "comments",
            "description": "Prune stale/verbose comments"
          },
          {
            "name": "commit",
            "description": "Auto-stage and propose a commit (or apply/amend)"
          },
          {
            "name": "tldr",
            "description": "Summarize recent changes"
          },
          {
            "name": "branchdiff",
            "description": "Compare local branch against remote tracking branch"
          },
          {
            "name": "resolve",
            "description": "Detect and resolve merge conflicts"
          },
          {
            "name": "prreview",
            "description": "Pull and review pull requests on target branches"
          }
        ]
      }
    ]
  },
  "dependencies": {
    "@aidev/core": "0.0.1",
    "@eslint/js": "^10.0.1",
    "better-sqlite3": "^12.6.2",
    "eslint": "^10.0.1",
    "prettier": "^3.8.1",
    "typescript-eslint": "^8.56.0",
    "zod": "^4.3.6"
  },
  "devDependencies": {
    "@types/node": "^25.3.0",
    "@types/vscode": "^1.109.0",
    "esbuild": "^0.27.3",
    "typescript": "^5.9.3",
    "vitest": "^4.0.18"
  }
}
